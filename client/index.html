<html>
    <head>
        <title>Learn-Heptagon-Server-Test</title>
        <meta charset="UTF-8"/>
        <script src="ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="req.js"></script>
        <link rel="stylesheet" href="style.css"/>
    </head>
    <body>
      <div id="editor">node s (_:bool) returns (X: int)
let
  X = 1 -> if (pre X) < 3 then (pre X) + 1 else 3;
tel

node s1 (_:bool) returns (X:  int);
let
  X = 1 -> pre (2 -> 3);
tel

node obs_s(_:bool) returns (OK: bool);
(*@contract
    guarantee OK; *)
let
  OK = (s(_) = s1(_));
  --%MAIN;
  --%PROPERTY OK;
tel
      </div>
      <button onclick="req()">Verify</button>
      <script>
        var editor = ace.edit("editor");
        editor.session.setMode("ace/mode/lustre");
        editor.session.on('change', () => {
            for (var i = 0; i < editor.session.getLength(); i++) {
                editor.session.removeGutterDecoration(i, "valid-decoration");
                editor.session.removeGutterDecoration(i, "invalid-decoration");
            }
        });
      </script>
    </body>
</html>
